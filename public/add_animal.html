<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>FARMA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css" />
  </head>

  <body>
    <div class="container">
      <div class=" text-center mt-5 text-center">
        <h1> ADD AN ANIMAL </h1>
      </div>

      <div class="row ">
        <div class="col-lg-7 mx-auto">
          <div class="card mt-2 mx-auto p-4 bg-light">
            <div class="card-body bg-light">

              <div class="container">
                <!-- <form id="contact-form" role="form" method="POST" action="/add_animal"> -->
                <form id="contact-form" role="form" method="POST">
                  <div class="controls">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="form_name"> Animal Name * </label>
                          <input id="form_name" type="text" name="animal_name" class="form-control"
                            placeholder="Please enter the animal name *" required="required"
                            data-error=" animal name is required.">
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="form_lastname"> Number of animals * </label>
                          <input id="form_lastname" type="number" name="number" class="form-control"
                            placeholder="Please enter the number of the animals  *" required="required"
                            data-error="number of animals is required.">
                        </div>
                      </div>
                    </div>

                    <br />

                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="form_need"> Select Gender * </label>
                          <select id="form_need" name="gender" class="form-control" required="required"
                            data-error="Please specify your need.">
                            <option value="" selected disabled>--Select Your Issue--</option>
                            <option value="Female"> Female </option>
                            <option value="Male"> Male </option>
                          </select>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="form_need"> Date of Birth * </label>
                          <input id="dob" type="date" name="dob" class="form-control"
                            placeholder="Please enter the animals' date of birth  *" required="required"
                            data-error="number of animals is required.">
                        </div>
                      </div>
                    </div>

                    <br>

                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="form_need"> Registration Date </label>
                          <input id="reg_date" type="date"  name="regdate" class="form-control" placeholder="TODAY - ">
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="form_need"> Age </label>
                          <input id="calculated_age" type="text" name="calculated_age" class="form-control"
                            placeholder=" AGE - " data-error="number of animals is required.">
                        </div>
                      </div>
                    </div>

                    <br>

                    <div class="row">
                      <div class="col-md-12">
                        <div class="form-group">
                          <label for="form_message">Animal Description *</label>
                          <textarea id="form_message" name="description" class="form-control"
                            placeholder="Write animal Description." rows="4" required="required"
                            data-error="Please, leave us a message."></textarea>
                        </div>
                      </div>
                    </div>

                    <br>

                    <div class="row">
                      <label for="formFileLg" class="form-label"> Upload animal image </label>
                      <input class="form-control form-control-lg" id="formFileLg" type="file">
                    </div>

                    <div class="row">
                      <button type="submit" class="btn btn-primary btn-md btn-block"> ADD </button>
                    </div>

                    <br>

                    <div class="row">
                      <button type="button" class="btn btn-secondary btn-block">
                        <a href="/home"> CANCEL </a>
                      </button>
                    </div>
                  </div>
                </form>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
    const reg_date = document.getElementById('reg_date');
    const dob = document.getElementById('dob');

    const age = document.getElementById('calculated_age');

    reg_date.addEventListener('change', (e) => {

      let old;
      const registration_date = e.target.value
      const dateofbirth = dob.value

      const oneDay = 1000 * 60 * 60 * 24;

      var day1 = new Date(dateofbirth);
      var day2 = new Date(registration_date);

      var difference = Math.abs(day2 - day1);
      days = difference / (1000 * 3600 * 24);

      if (days < 365) {
        if (days > 30) {
          age.value = Math.round(days / 30) + ' MONTHS';
          console.log(days / 30 + ' MONTHS');
        } else {
          age.value = days + ' DAYS';
        }
      } else {
        age.value = Math.round(days / 365) + ' YEARS';
      }

    })
  </script>

</html>